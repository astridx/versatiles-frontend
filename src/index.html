<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<title>map</title>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
	<link rel="shortcut icon" href="assets/favicon.ico" />
	<style>
		body {
			font-family: sans-serif;
			margin: 20px 20px;
		}

		article {
			width: 800px;
			max-width: 100%;
			margin: auto;
			box-sizing: border-box;
		}

		iframe {
			width: 100%;
			border: 1px solid rgba(0, 0, 0, 0.2);
			height: 60vh;
			box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
			border-radius: 5px;
		}
	</style>
	<script>
		start()

		async function start() {
			let tile_sources = await (await fetch("/api/tiles.json")).json();
			
			let html = [];
			for (let source of tile_sources) {
				html.push(`<h1><a href="map.html?url=${source.url}">${source.url}</a></h1>`);
				html.push(`<iframe src="map.html?url=${source.url}"></iframe>`);
			}
			document.getElementById("maps").innerHTML = html.join('\n');
		}
	</script>
</head>

<body>
	<article id="maps">
		<!--<iframe src="map.html"></iframe>-->
	</article>
</body>

</html>